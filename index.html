<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="utf-8">
        <meta name="description" content="Calculadora de PSS e IRRF 2023 com base simplificada da medida provisória 1172/23">
        <title>Calculadora</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"> 
    </head>
    <body>
        <button id="installButton" style="display: none;">Instalar App</button>
        <header id="BOX1">
            <nav>
            <picture>
                <source media="(max-width:750px)" srcset="imgp.png" type="image/jpg">
                <source media="(max-width:1050px)" srcset="imgm.png" type="image/jpg">
                <img src="imgm.png" alt="ícone do app">
            </picture>
            </nav>
        </header>

        <main>
            <form name="f_calculadora" id="f_calculadora" method="post">
                <h1>
                    <b>DESCONTOS CONTRACHEQUE PREVIDÊNCIA SOCIAL E IRRF</b>
                </h1>
                <div id="BOX2">
                    <h2 id="f_tabelautilizada">*Base: Tabela a partir de maio/2023
                    </h2>
                    <h2><label for="f_vencimentos">SALÁRIO/REMUNERAÇÃO BRUTA: (R$):</label>
                        <br><input id="f_vencimentos" name="f_vencimentos" value="" type="text" placeholder="Digite no formato:1500,00">
                    </h2>
                    <h2><label for="f_pensao">PENSÃO (R$):</label>
                        <br><input id="f_pensao" name="f_pensao" type="text" value="0" placeholder="Digite aqui">
                    </h2>
                    <h2><label for="f_dependentes">Nº DE DEPENDENTES:</label>
                    <br><input id="f_dependentes" name="f_dependentes" type="text" value="0" placeholder="Digite aqui" >
                    </h2>
                    <h2><label for="f_outrasdeducoes">OUTRAS DEDUÇÕES: (R$)</span></label>
                        <br><input id="f_outrasdeducoes" name="f_outrasdeducoes" type="text" value="0" placeholder="Previdência privada, Funpresp,..." >
                    </h2>
                    <h2>
                        <button class="btn" name="btn" type="reset">LIMPAR</button>
                    
                        <button class="btn" name="btn" type="button" onclick="js_calcular()">CALCULAR</button>
                    </h2>
                </div>
            </form>
        
            <div id="BOX3">
                <h2>
                    RESULTADO:
                </h2>
                <br>
                <h2>
                    SALÁRIO/REMUNERAÇÃO BRUTA: R$ <span id="x"></span>
                </h2>
                <h2>
                    Faixa de contribuição: <span id="faixa"></span>
                </h2>
                <h2>
                    Alíquota de contribuição prev.:  <span id="aliquotacontribuicao"></span>%
                </h2>
                <h2 class="f_destaque">
                    <b>Previdêncial social: R$ <span id="soma"></span></b>
                </h2>
                <h2>
                    Pensão: R$ <span id="pensao"></span>
                </h2>
                <h2>
                    Nº de dependentes:<span id="dependentes"></span>
                </h2>
                <h2>
                    Outras deduções legais:<span id="outrasdeducoes"></span>
                </h2>
                <h2>
                    Base de cálculo IRRF completa: R$<span id="basepadrao"></span>
                </h2>
                <h2>
                    Base de cálculo IRRF simplificada: R$<span id="basesimplificada"></span>
                </h2>
                <h2>
                    Base mais benéfica : R$<span id="basemaisbenefica"></span>
                </h2>
                <h2>
                    Faixa IRRF: <span id="faixair"></span>
                </h2>
                <h2>
                    Alíquota IRRF: <span id="aliquotair"></span>%
                </h2>
                <h2 class="f_destaque">
                    <b>Desconto em folha de IRRF: R$ <span id="somarir"></span></b>
                </h2>
                <h2 class="f_destaque">
                    <b>TOTAL DESCONTOS: R$<span id="totaldescontos"></span></b>              
                </h2>
                    
                <br><br><br>
            
               </main>
    <footer>
        COPYRIGHT © @2023 Renata Veras Venturim , ALL RIGHTS RESERVED
    </footer>
    
    <script src="script.js"></script>
    <script src="sw-registration.js"></script>
    <script>
        if ('serviceWorker' in navigator && window.matchMedia('(display-mode: standalone)').matches) {
  // Navegador suporta Service Workers e o aplicativo já está instalado.
  document.getElementById('installButton').style.display = 'none';
} else if ('serviceWorker' in navigator && 'beforeinstallprompt' in window) {
  // Navegador suporta Service Workers e o evento "beforeinstallprompt" está disponível.
  const installButton = document.getElementById('installButton');

  // Mostra o botão/link de instalação quando o usuário clicar nele.
  installButton.style.display = 'block';

  // Escute o evento "click" no botão/link para mostrar a tela de instalação.
  installButton.addEventListener('click', () => {
    window.addEventListener('beforeinstallprompt', (event) => {
      // Impedir o prompt padrão de instalação.
      event.preventDefault();

      // Mostrar o prompt de instalação quando o usuário clicar.
      event.prompt();

      // Aguardar o resultado do prompt.
      event.userChoice.then((choiceResult) => {
        if (choiceResult.outcome === 'accepted') {
          console.log('Usuário aceitou a instalação.');
        } else {
          console.log('Usuário cancelou a instalação.');
        }
      });
    });
  });
}

     </script>
    </body>
</html>